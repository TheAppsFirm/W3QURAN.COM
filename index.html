<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />

    <!-- Primary Meta Tags -->
    <title>w3Quran - Interactive Quran Explorer</title>
    <meta name="title" content="w3Quran - Interactive Quran Explorer" />
    <meta name="description" content="Explore the Holy Quran with beautiful 3D bubble visualization, daily verses, quizzes, audio recitation, word-by-word translation, and more. A modern Islamic learning experience." />
    <meta name="keywords" content="Quran, Islam, Islamic, Muslim, Arabic, Surah, Ayah, Verse, Holy Book, w3Quran, Quran App, Learn Quran, Quran Online, Read Quran, Quran Translation, Quran Audio, Kids Quran" />
    <meta name="author" content="w3Quran" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <link rel="canonical" href="https://w3quran.com/" />

    <!-- Search Engine Verification -->
    <!-- INSTRUCTIONS: Replace YOUR_CODE with actual verification codes from:
         Google Search Console: https://search.google.com/search-console
         Bing Webmaster Tools: https://www.bing.com/webmasters -->
    <meta name="google-site-verification" content="YOUR_GOOGLE_VERIFICATION_CODE" />
    <meta name="msvalidate.01" content="YOUR_BING_VERIFICATION_CODE" />

    <!-- Favicon and Icons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e1b4b" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="w3Quran" />
    <link rel="manifest" href="/manifest.json" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://w3quran.com/" />
    <meta property="og:title" content="w3Quran - Interactive Quran Explorer" />
    <meta property="og:description" content="Explore the Holy Quran with beautiful 3D bubble visualization, daily verses, quizzes, audio recitation, and more." />
    <meta property="og:image" content="https://w3quran.com/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="w3Quran - Interactive Quran Explorer with 3D bubble visualization" />
    <meta property="og:site_name" content="w3Quran" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://w3quran.com/" />
    <meta name="twitter:title" content="w3Quran - Interactive Quran Explorer" />
    <meta name="twitter:description" content="Explore the Holy Quran with beautiful 3D bubble visualization, daily verses, quizzes, audio recitation, and more." />
    <meta name="twitter:image" content="https://w3quran.com/og-image.png" />

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "w3Quran",
      "alternateName": "w3Quran - Interactive Quran Explorer",
      "url": "https://w3quran.com",
      "description": "Explore the Holy Quran with beautiful 3D bubble visualization, daily verses, quizzes, audio recitation, word-by-word translation, and more.",
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "114 Surahs with Arabic text and translations",
        "Word-by-word translation and audio",
        "Multiple reciters for audio playback",
        "Daily verse feature",
        "Interactive quiz mode",
        "99 Names of Allah",
        "Prayer times with Qibla direction",
        "Kids mode with 3D animated duas",
        "Memorization (Hifz) mode",
        "Verse art generator for sharing",
        "Scholar video synchronization",
        "Emotional journey tracker"
      ],
      "inLanguage": ["en", "ar", "ur"],
      "creator": {
        "@type": "Organization",
        "name": "w3Quran",
        "url": "https://w3quran.com"
      }
    }
    </script>

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://api.alquran.cloud" crossorigin />
    <link rel="preconnect" href="https://cdn.islamic.network" crossorigin />

    <!-- DNS Prefetch for faster API calls -->
    <link rel="dns-prefetch" href="https://api.quran.com" />
    <link rel="dns-prefetch" href="https://audio.qurancdn.com" />
    <link rel="dns-prefetch" href="https://api.aladhan.com" />

    <!-- Arabic Fonts - Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Font loaded via stylesheet below; no preload needed -->
    <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New:wght@400;700&family=Amiri:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet" />

    <!-- Defer Analytics for better performance -->
    <script>
      // Load analytics after page is interactive
      window.addEventListener('load', function() {
        setTimeout(function() {
          // Microsoft Clarity
          (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
          })(window, document, "clarity", "script", "vbkkapj1zh");

          // Google Analytics
          var ga = document.createElement('script');
          ga.async = true;
          ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-6XT3C4RK44';
          document.head.appendChild(ga);
          ga.onload = function() {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-6XT3C4RK44');
          };
        }, 2000); // Delay analytics by 2 seconds for faster initial load
      });
    </script>


    <style>
      /* Critical CSS for initial load */
      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%);
        min-height: 100vh;
      }

      .font-arabic {
        font-family: 'Amiri', serif;
      }

      /* Initial loading screen */
      #initial-loader {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%);
        z-index: 9999;
        transition: opacity 0.3s ease-out;
      }

      #initial-loader.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .loader-content {
        text-align: center;
        color: white;
      }

      .loader-spinner {
        width: 60px;
        height: 60px;
        border: 4px solid rgba(255, 255, 255, 0.1);
        border-top-color: #8b5cf6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
      }

      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <!-- Initial loader shown before React loads -->
    <div id="initial-loader">
      <div class="loader-content">
        <div class="loader-spinner"></div>
        <p style="font-size: 18px; margin: 0;">w3Quran</p>
        <p style="font-size: 14px; opacity: 0.7; margin-top: 8px;">Loading...</p>
      </div>
    </div>

    <div id="root"></div>

    <script type="module" src="/src/main.jsx"></script>

    <script>
      // Hide initial loader when React app is ready
      window.addEventListener('load', function() {
        setTimeout(function() {
          var loader = document.getElementById('initial-loader');
          if (loader) {
            loader.classList.add('hidden');
            setTimeout(function() {
              loader.remove();
            }, 300);
          }
        }, 100);
      });

      // Register Service Worker for offline support
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/sw.js')
            .then(function(registration) {
              // Service worker registered successfully
            })
            .catch(function(error) {
              // Service worker registration failed
            });
        });
      }
    </script>
  </body>
</html>
